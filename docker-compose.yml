version: '3.8'

services:
  tender-monitor:
    build: .
    container_name: tender-monitor
    ports:
      - "8080:8080"   # Web界面和API
      - "5000:5000"   # 验证码服务
    volumes:
      - ./data:/app/data           # 数据持久化
      - ./logs:/app/logs           # 日志持久化
      - ./traces:/app/traces       # 轨迹文件（可以动态添加）
    environment:
      - BROWSER_HEADLESS=true      # 无头模式
      - CAPTCHA_SERVICE=http://localhost:5000
    restart: unless-stopped
    networks:
      - tender-net

networks:
  tender-net:
    driver: bridge
