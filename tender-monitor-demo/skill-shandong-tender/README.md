# 山东招标信息采集 Skill

## 功能说明

这个 skill 用于采集山东省政府采购网的招标信息。

### 采集流程

1. 访问山东省政府采购网首页
2. 点击"采购公告"或"招标公告"
3. 在搜索框输入关键词
4. 处理验证码（如有）
5. 点击查询按钮
6. 提取搜索结果
7. 返回招标信息列表

## 使用方法

### 基本用法

```bash
shandong-tender [关键词]
```

### 示例

```bash
# 搜索软件相关招标
shandong-tender 软件

# 搜索软件开发
shandong-tender 软件开发

# 搜索信息化
shandong-tender 信息化

# 使用默认关键词（软件）
shandong-tender
```

## 输出说明

### 终端输出

采集过程会实时显示：
- 当前执行步骤
- 找到的元素
- 验证码提示
- 搜索结果数量

### 文件输出

自动保存以下文件：

1. **JSON 结果**
   - 路径：`/tmp/shandong-tender-[时间戳].json`
   - 包含：关键词、来源、时间、结果数

2. **页面快照**
   - 路径：`/tmp/results.txt`
   - 内容：页面元素结构

3. **页面截图**
   - 路径：`/tmp/captcha.png`
   - 用途：验证码识别、问题排查

## 限制说明

### 当前版本限制

⚠️ **验证码处理：**
- 可以检测验证码
- 可以截图保存
- **无法自动识别**（需要完整 Go 程序 + ddddocr 服务）

⚠️ **网络访问：**
- 需要能访问 http://www.ccgp-shandong.gov.cn/
- 某些环境可能有网络限制

⚠️ **数据提取：**
- 当前为简化版
- 只提取基本信息
- 不包含详情页深度采集

### 完整版功能

要使用完整功能，请使用主项目：

```bash
cd /workspace/group/tender-monitor
./deploy.sh start
```

完整版包含：
- ✅ 自动验证码识别（ddddocr）
- ✅ 两阶段采集（列表+详情）
- ✅ 数据库存储
- ✅ Web 界面查询
- ✅ 多省份支持

## 环境要求

- 已安装 `agent-browser`
- 网络可访问山东采购网
- Bash 环境

## 故障排查

### 问题1：连接失败

```
✗ page.goto: net::ERR_CONNECTION_RESET
```

**原因：**
- 网络限制
- 防火墙
- 地域访问限制

**解决：**
- 更换网络环境
- 使用 VPN
- 在本地环境运行

### 问题2：找不到元素

```
⚠️ 未找到搜索框
```

**原因：**
- 页面结构变化
- 加载时间不够

**解决：**
- 增加等待时间
- 检查页面快照（/tmp/step2.txt）
- 调整选择器

### 问题3：验证码无法识别

```
⚠️ 检测到验证码，需要手动处理
```

**说明：**
这是正常提示，当前 skill 版本不支持自动识别。

**解决方案：**
1. 使用完整的 Go 程序（自动识别）
2. 手动处理验证码
3. 查看截图（/tmp/captcha.png）

## 集成到项目

这个 skill 是完整项目的简化版，用于：
- 快速测试网站可访问性
- 验证采集流程
- 调试选择器

完整项目地址：
- GitHub: https://github.com/youyouhe/tender-monitor-demo
- 文档: /workspace/group/tender-monitor/

## 更新日志

### v1.0.0 (2026-02-13)

- ✅ 初始版本
- ✅ 基础采集流程
- ✅ 验证码检测
- ✅ 结果提取
- ✅ 文件输出

## 作者

- Tom He + Claude
- 项目：招标信息监控系统
- 日期：2026-02-13

## 许可证

MIT License
